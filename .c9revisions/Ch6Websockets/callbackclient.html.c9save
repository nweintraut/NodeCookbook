{"ts":1367815386957,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1367815465578,"patch":[[{"diffs":[[1,"<html>\n    <head>\n        <title>WebSockets</title>\n    </head>\n    <body>\n        <input id=msg /><button id=send>Send</button>\n        <div id=output></div>\n        <script>\n            (function(){\n                window.WebSocket = window.WebSocket || window.MozWebSocket;\n                var ws      = new WebSocket(\"ws://nodecookbook.nweintraut.c9.io\"),\n                    output  = document.getElementById('output'),\n                    send    = document.getElementById('send');\n                    \n                function logStr(eventStr, msg){\n                    return '<div>' + eventStr + ': ' + msg + \"</div>\";\n                }\n                send.addEventListener('click', function(){\n                   var msg = document.getElementById('msg').value;\n                   ws.send(msg);\n                   output.innerHTML += logStr('Sent', msg);\n                });\n                ws.onmessage = function(e){\n                    output.innerHTML += logStr('Received', e.data);\n                };\n                ws.onclose = function(e){\n                    output.innerHTML += logStr('Disconnected', e.code + '-' + e.type);\n                };\n                ws.onerror = function(e){\n                    output.innerHTML += logStr('Error', e.data);\n                };\n            })();\n        </script>\n    </body>\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":1345}]],"length":1345,"saved":false}
{"ts":1367815593246,"patch":[[{"diffs":[[0,"   <"],[-1,"input id=msg /><button id=send>Send</button>\n        <div id=output></div>\n        <script>\n            (function(){\n                window.WebSocket = window.WebSocket || window.MozWebSocket;\n                var ws      = new WebSocke"],[1,"div id=connection>Not Connected</div><div><button id=disconnect>Disconnect</button></div>\n        <input id=msg /><button id=send>Send</button>\n        <div id=output></div>\n        <script src=\"/socket.io/socket.io.js\"></script>\n        <script>\n            (function(){\n                var socket  = io.connec"],[0,"t(\"w"]],"start1":80,"start2":80,"length1":243,"length2":319},{"diffs":[[0,"('send')"],[1,",\n                    disconnect = document.getElementById('disconnect')"],[0,";\n      "]],"start1":554,"start2":554,"length1":16,"length2":88},{"diffs":[[0,"   s"],[-1,"end.addEventListener('click"],[1,"ocket.on('connect', function(){\n                    socket.on('hello"],[0,"', f"]],"start1":807,"start2":807,"length1":35,"length2":76},{"diffs":[[0,"ello', function("],[-1,"){\n"],[1,"msg){\n    "],[0,"                "]],"start1":875,"start2":875,"length1":35,"length2":42},{"diffs":[[0,"    var "],[-1,"msg"],[1,"connection"],[0," = docum"]],"start1":916,"start2":916,"length1":19,"length2":26},{"diffs":[[0,"Id('"],[-1,"msg').value"],[1,"connection')"],[0,";\n  "]],"start1":958,"start2":958,"length1":19,"length2":20},{"diffs":[[0,"    "],[-1,"ws.send(msg);\n                   output.innerHTML += logStr('Sent', msg);\n                });\n                ws.onmessage = function(e){\n"],[1,"    connection.innerHTML = \"<span>connected</span>\";\n                       output.innerHTML += '<div>Hello ' + msg + '</div>';\n                       socket.emit('helloback', 'the client');\n                    });\n                    send.addEventListener('click', function(){\n                       var msg =document.getElementById('msg').value;\n                       socket.send(msg);\n   "],[0,"    "]],"start1":991,"start2":991,"length1":146,"length2":400},{"diffs":[[0,"tr('"],[-1,"Received', e.data);\n"],[1,"Sent', msg);\n   "],[0,"    "]],"start1":1431,"start2":1431,"length1":28,"length2":24},{"diffs":[[0,"                "],[-1,"}"],[1," })"],[0,";\n              "]],"start1":1451,"start2":1451,"length1":33,"length2":35},{"diffs":[[0,"    "],[-1,"ws.onclose ="],[1,"    disconnect.addEventListener('click',"],[0," fun"]],"start1":1484,"start2":1484,"length1":20,"length2":48},{"diffs":[[0,"lick', function("],[-1,"e"],[0,"){\n             "]],"start1":1522,"start2":1522,"length1":33,"length2":32},{"diffs":[[0,"    "],[-1,"output.innerHTML += logStr('Disconnected', e.code + '-' + e.type);\n"],[1,"   socket.disconnect(); \n    "],[0,"    "]],"start1":1557,"start2":1557,"length1":75,"length2":37},{"diffs":[[0,"               }"],[1,")"],[0,";\n              "]],"start1":1591,"start2":1591,"length1":32,"length2":33},{"diffs":[[0,"    "],[1,"  "],[-1,"ws.onerror = function(e){\n"],[1,"  socket.on('message', function(msg){\n    "],[0,"    "]],"start1":1622,"start2":1622,"length1":34,"length2":52},{"diffs":[[0,"tr('"],[-1,"Error', e.data"],[1,"Received', msg);\n                    }"],[0,");\n "]],"start1":1714,"start2":1714,"length1":22,"length2":46},{"diffs":[[0,"       }"],[1,")"],[0,";\n      "]],"start1":1768,"start2":1768,"length1":16,"length2":17}]],"length":1834,"saved":false}
{"ts":1367815668373,"patch":[[{"diffs":[[0,"        "],[1,"\n"],[0,"    "],[1,"            function square(num){\n                    output.innerHTML = \"<div>\" + num + \" x \" + num + \" is \" + (num * num) + \"</div>\";\n                }"],[0,"\n       "]],"start1":644,"start2":644,"length1":20,"length2":174}]],"length":1988,"saved":false}
{"ts":1367815689726,"patch":[[{"diffs":[[0,"t', function(){\n"],[1,"                    socket.emit('give me a number', square);\n"],[0,"                "]],"start1":981,"start2":981,"length1":32,"length2":93}]],"length":2049,"saved":false}
{"ts":1367815798350,"patch":[[{"diffs":[[0,"quare);\n"],[1,"                    socket.on('give me a sentence', function(cb){\n                       cb('Ok, here is a sentence.'); \n                    });\n                    socket.on('message', function(msg){\n                        output.innerHTML += '<div>Received: ' + msg + '</div>';\n                    });\n"],[0,"        "]],"start1":1050,"start2":1050,"length1":16,"length2":321}]],"length":2354,"saved":false}
